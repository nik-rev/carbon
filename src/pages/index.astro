---
import Layout from "@/layouts/Main.astro"

import { getCollection } from 'astro:content';
 
const allPosts = await getCollection('blog');
 
---

<Layout>
  <main class="max-w-[80%] mx-auto flex flex-start flex-col mb-8">
    <h2 class="text-xl text-gray-1 mb-6 self-center">Recent Posts</h2>
    <h3 class="text-gray-1 font-bold text-lg border-b mb-4 border-gray-4">2024</h3>
    <div class="flex">
      <ol class="space-y-0.5 space-y-8">
        {allPosts.map((post) => 
          <li>
            <a href={`/blog/${post.slug}`} class="flex flex-col gap-y-1  justify-between text-gray-2 gap-x-8 hover:text-gray-1 sm:gap-0">
                <p class="before:content-['Â»'] relative before:absolute before:-left-6 transition-colors max-w-[500px]">
                 {post.data.title}
                </p>
                <date class="whitespace-nowrap text-xs my-auto align-baseline text-gray-3">
                  March 22
                </date>
            </a>
          </li>
        )}
      </ol>
    </div>
  </main>
</Layout>
